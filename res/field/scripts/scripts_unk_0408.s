#include "macros/scrcmd.inc"
#include "res/text/bank/unk_0380.h"

    .data

    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntryEnd

_0472:
    WaitFanfare SEQ_SE_CONFIRM
    SetVar 0x8004, 0x8000
    SetVar 0x8005, 0x8001
    SetVar 0x8006, 0x8002
    CanFitItem 0x8004, 0x8005, 0x800C
    GoToIfEq 0x800C, 1, _04B0
    GoToIfEq 0x800C, 0, _064F
    End

_04AC:
    CloseMessage
    End

_04B0:
    CallCommonScript 0x7D1
    ScrCmd_236 0x8004
    AddItem 0x8004, 0x8005, 0x800C
    ScrCmd_07F 0x8004, 0x800C
    GoToIfEq 0x800C, 1, _0624
    GoToIfEq 0x800C, 0, _063C
    End

_04E2:
    WaitSound
    ScrCmd_2A7 0x8004, 0x800C
    CallIfEq 0x800C, 1, _0667
    BufferPlayerName 0
    BufferItemName 1, 0x8004
    GetItemPocket 0x8004, 0x800C
    SetVar 0x8008, 0x800C
    GoToIfEq 0x8008, POCKET_KEY_ITEMS, _0588
    GoToIfEq 0x8008, POCKET_ITEMS, _0575
    GoToIfEq 0x8008, POCKET_BERRIES, _05D4
    GoToIfEq 0x8008, POCKET_MEDICINE, _05C1
    GoToIfEq 0x8008, POCKET_BALLS, _05E7
    GoToIfEq 0x8008, POCKET_BATTLE_ITEMS, _05FA
    GoToIfEq 0x8008, POCKET_MAIL, _05AE
    GoToIfEq 0x8008, POCKET_TMHMS, _059B
    End

_0575:
    GetItemPocket 0x8004, 0x800C
    BufferPocketName 2, 0x800C
    GoTo _060D
    End

_0588:
    GetItemPocket 0x8004, 0x800C
    BufferPocketName 2, 0x800C
    GoTo _060D
    End

_059B:
    GetItemPocket 0x8004, 0x800C
    BufferPocketName 2, 0x800C
    GoTo _060D
    End

_05AE:
    GetItemPocket 0x8004, 0x800C
    BufferPocketName 2, 0x800C
    GoTo _060D
    End

_05C1:
    GetItemPocket 0x8004, 0x800C
    BufferPocketName 2, 0x800C
    GoTo _060D
    End

_05D4:
    GetItemPocket 0x8004, 0x800C
    BufferPocketName 2, 0x800C
    GoTo _060D
    End

_05E7:
    GetItemPocket 0x8004, 0x800C
    BufferPocketName 2, 0x800C
    GoTo _060D
    End

_05FA:
    GetItemPocket 0x8004, 0x800C
    BufferPocketName 2, 0x800C
    GoTo _060D
    End

_060D:
    SetFlagFromVar 0x8006
    Message 9
    WaitABXPadPress
    SetVar 0x800C, 1
    GoTo _04AC
    End

_0624:
    BufferPlayerName 0
    ScrCmd_33C 1, 0x8004
    BufferTMHMMoveName 2, 0x8004
    Message 6
    GoTo _04E2
    End

_063C:
    BufferPlayerName 0
    ScrCmd_33C 1, 0x8004
    Message 3
    GoTo _04E2
    End

_064F:
    BufferItemName 0, 0x8004
    Message 4
    WaitABXPadPress
    SetVar 0x800C, 0
    GoTo _04AC
    End

_0667:
    CallCommonScript 0x7F6
    Return

    .byte 0
    .byte 0
    .byte 0
