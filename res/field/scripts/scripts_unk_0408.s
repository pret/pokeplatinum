#include "macros/scrcmd.inc"
#include "res/text/bank/unk_0380.h"

    .data

    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntry _0472
    ScriptEntryEnd

_0472:
    WaitFanfare SEQ_SE_CONFIRM
    SetVar VAR_0x8004, VAR_0x8000
    SetVar VAR_0x8005, VAR_0x8001
    SetVar VAR_0x8006, VAR_0x8002
    CanFitItem VAR_0x8004, VAR_0x8005, VAR_RESULT
    GoToIfEq VAR_RESULT, 1, _04B0
    GoToIfEq VAR_RESULT, 0, _064F
    End

_04AC:
    CloseMessage
    End

_04B0:
    CallCommonScript 0x7D1
    ScrCmd_236 VAR_0x8004
    AddItem VAR_0x8004, VAR_0x8005, VAR_RESULT
    IsItemTMHM VAR_0x8004, VAR_RESULT
    GoToIfEq VAR_RESULT, 1, _0624
    GoToIfEq VAR_RESULT, 0, _063C
    End

_04E2:
    WaitSound
    ScrCmd_2A7 VAR_0x8004, VAR_RESULT
    CallIfEq VAR_RESULT, 1, _0667
    BufferPlayerName 0
    BufferItemName 1, VAR_0x8004
    GetItemPocket VAR_0x8004, VAR_RESULT
    SetVar VAR_0x8008, VAR_RESULT
    GoToIfEq VAR_0x8008, POCKET_KEY_ITEMS, _0588
    GoToIfEq VAR_0x8008, POCKET_ITEMS, _0575
    GoToIfEq VAR_0x8008, POCKET_BERRIES, _05D4
    GoToIfEq VAR_0x8008, POCKET_MEDICINE, _05C1
    GoToIfEq VAR_0x8008, POCKET_BALLS, _05E7
    GoToIfEq VAR_0x8008, POCKET_BATTLE_ITEMS, _05FA
    GoToIfEq VAR_0x8008, POCKET_MAIL, _05AE
    GoToIfEq VAR_0x8008, POCKET_TMHMS, _059B
    End

_0575:
    GetItemPocket VAR_0x8004, VAR_RESULT
    BufferPocketName 2, VAR_RESULT
    GoTo _060D
    End

_0588:
    GetItemPocket VAR_0x8004, VAR_RESULT
    BufferPocketName 2, VAR_RESULT
    GoTo _060D
    End

_059B:
    GetItemPocket VAR_0x8004, VAR_RESULT
    BufferPocketName 2, VAR_RESULT
    GoTo _060D
    End

_05AE:
    GetItemPocket VAR_0x8004, VAR_RESULT
    BufferPocketName 2, VAR_RESULT
    GoTo _060D
    End

_05C1:
    GetItemPocket VAR_0x8004, VAR_RESULT
    BufferPocketName 2, VAR_RESULT
    GoTo _060D
    End

_05D4:
    GetItemPocket VAR_0x8004, VAR_RESULT
    BufferPocketName 2, VAR_RESULT
    GoTo _060D
    End

_05E7:
    GetItemPocket VAR_0x8004, VAR_RESULT
    BufferPocketName 2, VAR_RESULT
    GoTo _060D
    End

_05FA:
    GetItemPocket VAR_0x8004, VAR_RESULT
    BufferPocketName 2, VAR_RESULT
    GoTo _060D
    End

_060D:
    SetFlagFromVar VAR_0x8006
    Message 9
    WaitABXPadPress
    SetVar VAR_RESULT, 1
    GoTo _04AC
    End

_0624:
    BufferPlayerName 0
    ScrCmd_33C 1, VAR_0x8004
    BufferTMHMMoveName 2, VAR_0x8004
    Message 6
    GoTo _04E2
    End

_063C:
    BufferPlayerName 0
    ScrCmd_33C 1, VAR_0x8004
    Message 3
    GoTo _04E2
    End

_064F:
    BufferItemName 0, VAR_0x8004
    Message 4
    WaitABXPadPress
    SetVar VAR_RESULT, 0
    GoTo _04AC
    End

_0667:
    CallCommonScript 0x7F6
    Return

    .byte 0
    .byte 0
    .byte 0
