msl_c_srcs = files(
    'asm/abort_exit_arm.s',
    'asm/critical_region.s',
    'asm/math_arm.s',
    'src/alloc.c',
    'src/ansi_files.c',
    'src/arith.c',
    'src/assert.c',
    'src/buffer_io.c',
    'src/errno.c',
    'asm/direct_io.s',
    'asm/file_io.s',
    'asm/file_pos.s',
    'asm/mbstring.s',
    'asm/mem_msl.s',
    'asm/mem_funcs.s',
    'asm/float.s',
    'asm/locale_c.s',
    'asm/printf.s',
    'asm/qsort.s',
    'asm/rand.s',
    'asm/ctype.s',
    'asm/scanf.s',
    'asm/signal.s',
    'asm/string.s',
    'asm/strtold.s',
    'asm/strtoul.s',
    'asm/wchar_io.s',
    'asm/wmem.s',
    'asm/wprintf.s',
    'asm/wstring.s',
    'asm/wctype.s',
    'asm/e_pow.s',
    'asm/s_copysign.s',
    'asm/s_fabs.s',
    'asm/s_frexp.s',
    'asm/s_ldexp.s',
    'asm/w_pow.s',
    'asm/ansi_fp.s',
    'asm/math_api.s',
    'asm/math_sun.s',
    'asm/pool_alloc.s'
)

msl_c = static_library('MSL_C_NITRO_Ai_LE',
    name_prefix: '',
    sources: msl_c_srcs,
    c_args: c_args,
    nasm_args: asm_args,
    include_directories: public_includes,
    pic: false
)

msl_libs += msl_c
